## 20191127

[TOC]

### 参数化构建parameters

在pipeline中使用parameters指令定义参数，其只允许被放在pipeline块下

```groovy
pipeline {
    agent any
    
    parameters {
        string(name: 'tag', defaultValue: 'latest', description: 'please input the release image tag')
        choice(name: 'deploy_env', choices: 'test\npre', description: 'please select the env type')
    }
    
    stages {
        stage('build') {
            agent {
                label '206'
            }
            steps {
                echo "${params.tag}"
                echo "${params.deploy_env}"
            }
        }
    }
}
```

使用${params.tag}可以得到变量的值。注意，**${params.tag}** 不能用单引号包裹哦。

