## 20200605



### shell命令的输出

jenkinsfile中如何获取执行的shell命令的输出？

http://www.huati365.com/answer/BL2brMKq7Pqp78v



```groovy
def ret = sh(script: 'uname', returnStdout: true)
println ret


def outfile = 'stdout.out'
def status = sh(script:"ls -la dir1 >${outfile} 2>&1", returnStatus:true)
def output = readFile(outfile).trim()
if (status == 0) {
    // output is directory listing from stdout
} else {
    // output is error message from stderr
}
```

