## 2019/10/15

[TOC]

### 源码学习

1. 简单动态字符串 

   Redis内部是通过一种简单动态字符串SDS的数据结构来构造的

2. 链表

   Redis内部是通过链表来实现的

3. 字典

   Redis的字典是使用**哈希表**作为底层实现的

4. 跳跃表

   有序集合的底层实现之一。

5. 整数集合

6. 压缩列表



什么是跳跃表？

由很多层构成；每一层是一个有序链表；最底层链表包含所有元素；每个节点包含两个指针,一个指向下一个元素,一个指向下一层元素。



redis基于以上数据结构创建了一个对象系统，这个系统包含字符串对象，列表对象，哈希对象，集合对象和有序集合对象，每种对象都用到了至少一种前面介绍的数据结构。



对象的类型和编码

新创建一个键值对时，我们至少创建了两个对象，键对象和值对象。每个对象都由一个redisObject结构表示。

typedef struct redisObject {

// 类型

unsigned type:4；

//编码

unsigned  encoding:4;

//指向底层实现数据结构的指针

void *ptr;

} robj;



